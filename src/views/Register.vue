<script setup>
import { ref } from 'vue';

// emit ä¿æŒä¸è®Š
const emit = defineEmits(['submit']);

// ref æ¬„ä½ä¿æŒä¸è®Š
const account = ref('');
const email = ref('');
const password = ref('');
const confirmPassword = ref('');

// --- ğŸ‘‡ ç§»é™¤å¯†ç¢¼å¯è¦‹æ€§ç›¸é—œçš„é‚è¼¯ ---
// const isPasswordVisible = ref(false);
// const togglePasswordVisibility = () => { ... };

function handleSubmit() {
  // é©—è­‰é‚è¼¯ä¿æŒä¸è®Š
  if (!account.value || !email.value || !password.value || !confirmPassword.value) {
    alert('æ‰€æœ‰æ¬„ä½éƒ½å¿…é ˆå¡«å¯«ï¼');
    return;
  }
  if (password.value !== confirmPassword.value) {
    alert('å…©æ¬¡è¼¸å…¥çš„å¯†ç¢¼ä¸ä¸€è‡´ï¼');
    return;
  }

  const registrationData = {
    account: account.value,
    email: email.value,
    password: password.value,
  };

  emit('submit', registrationData);
  console.log('è¨»å†Šè¡¨å–®å·²æäº¤:', registrationData);
  alert('è¨»å†ŠæˆåŠŸï¼');
}
</script>

<template>
  <!-- é é¢å®¹å™¨ (ä¸è®Š) -->
  <div class="flex items-center justify-center min-h-screen bg-white">

    <!-- è¡¨å–®ä¸»è¦å€å¡Š (ä¸è®Š) -->
    <div class="max-w-sm w-full p-6">
      
      <!-- Logo å’Œæ¨™é¡Œ (ä¸è®Š) -->
      <div class="mx-auto mb-8">
        <img src="/src/assets/blackLogo.png" alt="ChopHub Logo" class="w-[250px] h-[250px]  mx-auto">
      </div>
      
      <!-- ã€Œå·²æœ‰å¸³è™Ÿã€é€£çµ (ä¸è®Š) -->
      <div class="text-center mb-6">
          <span class="text-sm text-gray-600">å·²ç¶“æœ‰å¸³è™Ÿå—ï¼Ÿ</span>
          <a href="/login" class="text-sm text-orange-500 hover:text-orange-600 font-medium transition-colors">ç«‹å³ç™»å…¥</a>
      </div>

      <form @submit.prevent="handleSubmit" class="space-y-4">
        <!-- å¸³è™Ÿè¼¸å…¥æ¬„ (ä¸è®Š) -->
        <div>
          <input 
            v-model="account" 
            type="text" 
            placeholder="å¸³è™Ÿ" 
            class="w-full px-4 py-3 bg-[#F8F9FA] border border-gray-300 rounded-md transition-colors
                   focus:outline-none focus:border-[#F2994A] focus:ring-1 focus:ring-[#F2994A]"
          >
        </div>
        
        <!-- Email è¼¸å…¥æ¬„ (ä¸è®Š) -->
        <div>
          <input 
            v-model="email" 
            type="email" 
            placeholder="ä¿¡ç®±" 
            class="w-full px-4 py-3 bg-[#F8F9FA] border border-gray-300 rounded-md transition-colors
                   focus:outline-none focus:border-[#F2994A] focus:ring-1 focus:ring-[#F2994A]"
          >
        </div>

        <!-- ğŸ‘‡ --- å¯†ç¢¼è¼¸å…¥æ¬„ä¿®æ”¹ --- ğŸ‘‡ -->
        <div class="relative">
          <!-- 1. æ‹¿æ‰ :type ç¶å®šï¼Œç›´æ¥ä½¿ç”¨ type="password" -->
          <input 
            v-model="password" 
            type="password"  
            placeholder="å¯†ç¢¼" 
            class="w-full px-4 py-3 bg-[#F8F9FA] border border-gray-300 rounded-md transition-colors
                   focus:outline-none focus:border-[#F2994A] focus:ring-1 focus:ring-[#F2994A]"
          >
          <!-- 2. ç§»é™¤æ•´å€‹ <button> å’Œè£¡é¢çš„ SVG åœ–ç¤º -->
        </div>
        
        <!-- ğŸ‘‡ --- ç¢ºèªå¯†ç¢¼è¼¸å…¥æ¬„ä¿®æ”¹ --- ğŸ‘‡ -->
        <div class="relative">
          <!-- 1. æ‹¿æ‰ :type ç¶å®šï¼Œç›´æ¥ä½¿ç”¨ type="password" -->
          <input 
            v-model="confirmPassword" 
            type="password" 
            placeholder="ç¢ºèªå¯†ç¢¼" 
            class="w-full px-4 py-3 bg-[#F8F9FA] border border-gray-300 rounded-md transition-colors
                   focus:outline-none focus:border-[#F2994A] focus:ring-1 focus:ring-[#F2994A]"
          >
          <!-- 2. ç§»é™¤æ•´å€‹ <button> å’Œè£¡é¢çš„ SVG åœ–ç¤º -->
        </div>
        
        <!-- è¨»å†ŠæŒ‰éˆ• (ä¸è®Š) -->
        <button 
          type="submit" 
          class="w-full bg-[#F2994A] hover:bg-[#E88C3A] text-white font-bold py-3 px-4 rounded-md 
                 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#E87A3A] !mt-6"
        >
          ç«‹å³è¨»å†Š
        </button>
        
      </form>
    </div>

  </div>
</template>